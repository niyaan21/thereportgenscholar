
'use client';

import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import { z } from 'zod';

// Define the structure of your translation file
const translationSchema = z.object({
  // Login Page
  welcomeBack: z.string(),
  loginDescription: z.string(),
  signInWithGoogle: z.string(),
  or: z.string(),
  emailLabel: z.string(),
  passwordLabel: z.string(),
  forgotPassword: z.string(),
  loginWithEmail: z.string(),
  noAccount: z.string(),
  signUp: z.string(),
  // Signup Page
  createAccount: z.string(),
  signupDescription: z.string(),
  signupWithGoogle: z.string(),
  passwordMinChars: z.string(),
  createAccountWithEmail: z.string(),
  haveAccount: z.string(),
  login: z.string(),
  // Account Settings
  accountSettingsTitle: z.string(),
  accountSettingsDescription: z.string(),
  generalTab: z.string(),
  researchHistoryTab: z.string(),
  languageRegionSectionTitle: z.string(),
  languageRegionDescription: z.string(),
  interfaceLanguageLabel: z.string(),
  languageChangeToastTitle: z.string(),
  languageChangeToastDescription: z.string(),
  lang_en: z.string(),
  lang_es: z.string(),
  lang_fr: z.string(),
  lang_de: z.string(),
  lang_ja: z.string(),
  // Main page workflow
  hero: z.object({
    badge: z.string(),
    title: z.string(),
    subtitle: z.string(),
    analyzeFile: z.string(),
    authPrompt: z.string(),
  }),
  queryForm: z.object({
    title: z.string(),
    description: z.string(),
    descriptionAuth: z.string(),
    placeholder: z.string(),
    placeholderAuth: z.string(),
    buttonLabel: z.string(),
    buttonLabelAuth: z.string(),
  }),
  generating: z.object({
    titleForge: z.string(),
    descriptionForge: z.string(),
    stepAnalyze: z.string(),
    stepIdentify: z.string(),
    stepFormulate: z.string(),
    titleIlluminate: z.string(),
    descriptionIlluminate: z.string(),
    stepProcess: z.string(),
    stepGather: z.string(),
    stepSynthesize: z.string(),
    stepDraft: z.string(),
    titleCraft: z.string(),
    descriptionCraft: z.string(),
    stepStructure: z.string(),
    stepWriteIntro: z.string(),
    stepDevelopThemes: z.string(),
    stepAnalyzeResults: z.string(),
    stepDraftDiscussion: z.string(),
    stepAssemble: z.string(),
    waitMessage: z.string(),
  }),
  formulatedQueries: z.object({
    title: z.string(),
    description: z.string(),
    descriptionAuth: z.string(),
    buttonLabel: z.string(),
    buttonLabelAuth: z.string(),
    vectorsTitle: z.string(),
    phrasingsTitle: z.string(),
    conceptsTitle: z.string(),
    subTopicsTitle: z.string(),
    noneSuggested: z.string(),
    noVectors: z.string(),
  }),
  summaryDisplay: z.object({
    title: z.string(),
    description: z.string(),
    guidingQuestion: z.string(),
    insightsTitle: z.string(),
    insightsPlaceholder: z.string(),
    insightsHelpText: z.string(),
    queryDimensionsTitle: z.string(),
    queryDimensionsBadge: z.string(),
    noDimensions: z.string(),
    optionsTitle: z.string(),
    chartsLabel: z.string(),
    chartsDescription: z.string(),
    footerText: z.string(),
  }),
  reportDisplay: z.object({
    titleDefault: z.string(),
    originalQuestion: z.string(),
    expandAll: z.string(),
    collapseAll: z.string(),
    downloadJson: z.string(),
    downloadPdf: z.string(),
    generatingPdf: z.string(),
    pdfToastTitle: z.string(),
    pdfToastDescription: z.string(),
    pdfToastSuccessTitle: z.string(),
    pdfToastSuccessDescription: z.string(),
    originalityTitle: z.string(),
    originalityDescription: z.string(),
    runCheck: z.string(),
    checking: z.string(),
    checkComplete: z.string(),
    checkFailed: z.string(),
    overallSimilarity: z.string(),
    matchesFound: z.string(),
    justification: z.string(),
    matchWith: z.string(),
    runToCheck: z.string(),
    pdfTipTitle: z.string(),
    pdfTipDescription: z.string(),
    footerText: z.string(),
    readAloud: z.string(),
    noContent: z.string(),
    ttsFailed: z.string(),
    ttsError: z.string(),
    audioPlaybackFailed: z.string(),
  }),
  reportSections: z.object({
    executiveSummary: z.string(),
    introduction: z.string(),
    literatureReview: z.string(),
    keyThemes: z.string(),
    methodology: z.string(),
    results: z.string(),
    discussion: z.string(),
    conclusion: z.string(),
    limitations: z.string(),
    futureWork: z.string(),
    ethicalConsiderations: z.string(),
    references: z.string(),
    appendices: z.string(),
    glossary: z.string(),
  }),
  placeholderChart: z.object({
    defaultTitle: z.string(),
    defaultDescription: z.string(),
    noChartTitle: z.string(),
    noChartDescription: z.string(),
    errorTitle: z.string(),
    seriesError: z.string(),
    parseError: z.string(),
    emptyError: z.string(),
    keyError: z.string(),
    scatterError: z.string(),
    errorDescription: z.string(),
    unsupportedError: z.string(),
  }),
  actions: z.object({
    goBackEditQuestion: z.string(),
    goBackRefineQueries: z.string(),
    goBackViewSummary: z.string(),
    startNew: z.string(),
    generateReport: z.string(),
    authRequiredToastTitle: z.string(),
    authRequiredToastDescription: z.string(),
    questionTooShortToastTitle: z.string(),
    questionTooShortToastDescription: z.string(),
  }),
});

type Translation = z.infer<typeof translationSchema>;

// Helper to fetch and validate translations
async function fetchTranslations(lang: string): Promise<Translation | object> {
  try {
    const response = await fetch(`/locales/${lang}/translation.json`);
    if (!response.ok) {
      console.error(`Failed to fetch translation for ${lang}: ${response.statusText}`);
      return {};
    }
    const data = await response.json();
    const validation = translationSchema.safeParse(data);
    if (validation.success) {
      return validation.data;
    } else {
      console.error(`Invalid translation file for ${lang}:`, validation.error.issues);
      return {};
    }
  } catch (error) {
    console.error(`Error loading translation file for ${lang}:`, error);
    return {};
  }
}

const resources = {
  en: {
    translation: {
      welcomeBack: 'Welcome Back!',
      loginDescription: 'Log in to continue your research with Foss AI.',
      signInWithGoogle: 'Sign in with Google',
      or: 'OR',
      emailLabel: 'Email',
      passwordLabel: 'Password',
      forgotPassword: 'Forgot Password?',
      loginWithEmail: 'Log In with Email',
      noAccount: "Don't have an account?",
      signUp: 'Sign Up',
      createAccount: 'Create an Account',
      signupDescription: 'Enter your email and password to join Foss AI.',
      signupWithGoogle: 'Sign up with Google',
      passwordMinChars: '•••••••• (min. 6 characters)',
      createAccountWithEmail: 'Create Account with Email',
      haveAccount: 'Already have an account?',
      login: 'Log In',
      accountSettingsTitle: 'Account Settings',
      accountSettingsDescription: 'Manage your Foss AI profile, preferences, and security settings.',
      generalTab: 'General',
      researchHistoryTab: 'Research History',
      languageRegionSectionTitle: 'Language & Region',
      languageRegionDescription: 'Set your language for the UI. AI responses are not yet translated.',
      interfaceLanguageLabel: 'Interface Language',
      languageChangeToastTitle: 'Language Updated',
      languageChangeToastDescription: 'Interface language set to {{language}}.',
      lang_en: 'English',
      lang_es: 'Español (Spanish)',
      lang_fr: 'Français (French)',
      lang_de: 'Deutsch (German)',
      lang_ja: '日本語 (Japanese)',
      hero: {
        badge: 'Advanced AI Research Platform',
        title: 'Uncover Deeper Insights with Foss AI',
        subtitle: 'Leverage cutting-edge AI to formulate research queries, synthesize knowledge, visualize concepts, and generate comprehensive reports effortlessly.',
        analyzeFile: 'Or, Analyze Your Own File',
        authPrompt: 'Sign up or log in to access the full suite of Foss AI research tools.',
      },
      queryForm: {
        title: 'Launch Your Exploration',
        description: "Articulate your research challenge. ScholarAI will map the knowledge frontier.",
        descriptionAuth: "Log in to articulate your research challenge.",
        placeholder: "e.g., Explore the multifaceted impacts of generative AI on the future of creative professions, considering ethical dilemmas, economic shifts, and the evolution of human-AI collaboration...",
        placeholderAuth: "Please log in or sign up to enter your research question.",
        buttonLabel: 'Explore Insights',
        buttonLabelAuth: 'Login to Explore',
      },
      generating: {
        titleForge: 'Forging Your Research Path...',
        descriptionForge: 'Our AI is analyzing your question to create a tailored research strategy.',
        stepAnalyze: 'Analyzing core concepts...',
        stepIdentify: 'Identifying related topics...',
        stepFormulate: 'Formulating optimal search vectors...',
        titleIlluminate: 'Illuminating Key Insights...',
        descriptionIlluminate: 'The AI is synthesizing information from its knowledge base to build a concise overview.',
        stepProcess: 'Processing search vectors...',
        stepGather: 'Gathering conceptual information...',
        stepSynthesize: 'Synthesizing key themes...',
        stepDraft: 'Drafting initial summary...',
        titleCraft: 'Crafting Your Comprehensive Report...',
        descriptionCraft: 'This is the most intensive step. The AI is now writing your multi-section report.',
        stepStructure: 'Structuring report outline...',
        stepWriteIntro: 'Writing introduction & literature review...',
        stepDevelopThemes: 'Developing key themes & methodology...',
        stepAnalyzeResults: 'Analyzing results & suggesting charts...',
        stepDraftDiscussion: 'Drafting discussion & conclusion...',
        stepAssemble: 'Assembling final document...',
        waitMessage: 'Please wait, this process can take some time. Do not navigate away from the page.',
      },
      formulatedQueries: {
        title: 'Expanded Research Guidance',
        description: 'Review AI-crafted queries and suggestions. Synthesize to distill key insights.',
        descriptionAuth: 'Log in to synthesize insights.',
        buttonLabel: 'Synthesize & Illuminate',
        buttonLabelAuth: 'Login to Synthesize',
        vectorsTitle: 'AI-Forged Search Vectors',
        phrasingsTitle: 'Alternative Phrasings',
        conceptsTitle: 'Key Concepts',
        subTopicsTitle: 'Potential Sub-Topics',
        noneSuggested: 'None suggested for this query.',
        noVectors: 'No search vectors were generated for the provided question.',
      },
      summaryDisplay: {
        title: 'Illuminated Research Overview',
        description: 'Key insights distilled and synthesized by ScholarAI. You can edit the summary below.',
        guidingQuestion: 'Your Guiding Question',
        insightsTitle: 'Core Synthesized Insights (Editable)',
        insightsPlaceholder: 'AI-generated summary will appear here. You can edit it before generating the full report.',
        insightsHelpText: 'Your edits here will be used for the full report.',
        queryDimensionsTitle: 'Explored Query Dimensions',
        queryDimensionsBadge: 'AI-Curated',
        noDimensions: 'No specific query areas were identified.',
        optionsTitle: 'Report Options',
        chartsLabel: 'Generate Chart Suggestions',
        chartsDescription: 'Allow the AI to suggest and create charts for visualizing data in the report.',
        footerText: 'This synthesized overview provides a high-level perspective. For an exhaustive exploration, proceed to generate the full research report.',
      },
      reportDisplay: {
        titleDefault: 'Generated Research Report',
        originalQuestion: 'In-depth exploration for: "{{question}}"',
        expandAll: 'Expand All',
        collapseAll: 'Collapse All',
        downloadJson: 'Download JSON',
        downloadPdf: 'Download PDF',
        generatingPdf: 'Generating...',
        pdfToastTitle: '🚀 Generating PDF Report...',
        pdfToastDescription: 'This may take a few moments. Report quality is best when viewed online.',
        pdfToastSuccessTitle: '✅ PDF Report Downloaded!',
        pdfToastSuccessDescription: 'Your report has been generated successfully.',
        originalityTitle: 'AI-Powered Originality Analysis',
        originalityDescription: 'Leverages AI to compare the report against a vast knowledge base of academic and web sources to identify potential similarities and suggest likely sources.',
        runCheck: 'Run Check',
        checking: 'Analyzing report...',
        checkComplete: 'Originality Check Complete',
        checkFailed: 'Originality Check Failed',
        overallSimilarity: 'Overall Similarity Score',
        matchesFound: 'Potential Matches Found:',
        justification: 'Justification:',
        matchWith: 'match with:',
        runToCheck: 'Click "Run Check" to start the analysis.',
        pdfTipTitle: 'Tip for PDF Export',
        pdfTipDescription: 'For the best results when downloading a PDF, especially to include charts, please expand all the report sections you want to capture before clicking the download button.',
        footerText: 'This comprehensive report was meticulously generated by FossAI using advanced AI models.',
        readAloud: 'Read aloud',
        noContent: 'Content for this section was not provided.',
        ttsFailed: 'Text-to-Speech Failed',
        ttsError: 'An error occurred during TTS',
        audioPlaybackFailed: 'Audio playback failed',
      },
      reportSections: {
        executiveSummary: 'Executive Summary',
        introduction: 'Introduction & Background',
        literatureReview: 'Comprehensive Literature Review',
        keyThemes: 'Key Themes & In-Depth Discussion',
        methodology: 'Detailed Research Methodology',
        results: 'Results Presentation & Analysis',
        discussion: 'Holistic Discussion of Findings',
        conclusion: 'Concluding Remarks & Implications',
        limitations: 'Acknowledged Limitations',
        futureWork: 'Future Research Avenues',
        ethicalConsiderations: 'Ethical Considerations & Impact',
        references: 'References',
        appendices: 'Supplementary Appendices',
        glossary: 'Glossary of Key Terms',
      },
      placeholderChart: {
        defaultTitle: 'Illustrative Data Visualization',
        defaultDescription: 'This chart visualizes AI-generated sample data related to the report section.',
        noChartTitle: 'No Visual Chart Suggested',
        noChartDescription: 'The content in this section is primarily narrative or qualitative, and a specific chart visualization was not proposed by the AI.',
        errorTitle: 'Chart Data Error',
        seriesError: "AI-generated seriesDataKeys is not a valid JSON string of key/label objects.",
        parseError: "Failed to parse AI-generated sample data JSON string.",
        emptyError: "AI-generated sample data is missing or empty after parsing.",
        keyError: "AI-provided category data key configuration is missing.",
        scatterError: "Scatter charts require at least one series key for Y-axis values and a category key for X-axis values from the AI's sample data.",
        errorDescription: "The AI did not provide sufficient or correctly formatted data/configuration for this visualization.",
        unsupportedError: 'Unsupported chart type: {{chartType}}',
      },
      actions: {
        goBackEditQuestion: 'Edit Question',
        goBackRefineQueries: 'Refine Queries',
        goBackViewSummary: 'View Summary',
        startNew: 'Start New Research Session',
        generateReport: 'Generate Full Report',
        authRequiredToastTitle: "Authentication Required",
        authRequiredToastDescription: "Please log in or sign up to generate reports.",
        questionTooShortToastTitle: "Cannot Generate Report",
        questionTooShortToastDescription: "The research question is too short or missing. Please ensure a valid research question (min. 10 characters) was used to start this session.",
      },
    },
  },
  es: {
    translation: {
      welcomeBack: '¡Bienvenido de Nuevo!',
      loginDescription: 'Inicia sesión para continuar tu investigación con Foss AI.',
      signInWithGoogle: 'Iniciar sesión con Google',
      or: 'O',
      emailLabel: 'Correo Electrónico',
      passwordLabel: 'Contraseña',
      forgotPassword: '¿Olvidaste tu contraseña?',
      loginWithEmail: 'Iniciar Sesión con Correo',
      noAccount: '¿No tienes una cuenta?',
      signUp: 'Regístrate',
      createAccount: 'Crear una Cuenta',
      signupDescription: 'Ingresa tu correo y contraseña para unirte a Foss AI.',
      signupWithGoogle: 'Registrarse con Google',
      passwordMinChars: '•••••••• (mín. 6 caracteres)',
      createAccountWithEmail: 'Crear Cuenta con Correo',
      haveAccount: '¿Ya tienes una cuenta?',
      login: 'Iniciar Sesión',
      accountSettingsTitle: 'Configuración de la Cuenta',
      accountSettingsDescription: 'Administra tu perfil, preferencias y configuraciones de seguridad de Foss AI.',
      generalTab: 'General',
      researchHistoryTab: 'Historial de Investigación',
      languageRegionSectionTitle: 'Idioma y Región',
      languageRegionDescription: 'Establece tu idioma para la interfaz. Las respuestas de la IA aún no están traducidas.',
      interfaceLanguageLabel: 'Idioma de la Interfaz',
      languageChangeToastTitle: 'Idioma Actualizado',
      languageChangeToastDescription: 'El idioma de la interfaz se ha establecido en {{language}}.',
      lang_en: 'English (Inglés)',
      lang_es: 'Español',
      lang_fr: 'Français (Francés)',
      lang_de: 'Deutsch (Alemán)',
      lang_ja: '日本語 (Japonés)',
      hero: {
        badge: 'Plataforma de Investigación IA Avanzada',
        title: 'Descubra Perspectivas Más Profundas con Foss AI',
        subtitle: 'Aproveche la IA de vanguardia para formular consultas de investigación, sintetizar conocimientos, visualizar conceptos y generar informes completos sin esfuerzo.',
        analyzeFile: 'O, Analice Su Propio Archivo',
        authPrompt: 'Regístrese o inicie sesión para acceder al conjunto completo de herramientas de investigación de Foss AI.',
      },
      queryForm: {
        title: 'Inicie Su Exploración',
        description: 'Articule su desafío de investigación. ScholarAI mapeará la frontera del conocimiento.',
        descriptionAuth: 'Inicie sesión para articular su desafío de investigación.',
        placeholder: 'p. ej., Explore los impactos multifacéticos de la IA generativa en el futuro de las profesiones creativas, considerando dilemas éticos, cambios económicos y la evolución de la colaboración humano-IA...',
        placeholderAuth: 'Por favor, inicie sesión o regístrese para ingresar su pregunta de investigación.',
        buttonLabel: 'Explorar Ideas',
        buttonLabelAuth: 'Iniciar Sesión para Explorar',
      },
      generating: {
        titleForge: 'Forjando Su Camino de Investigación...',
        descriptionForge: 'Nuestra IA está analizando su pregunta para crear una estrategia de investigación a medida.',
        stepAnalyze: 'Analizando conceptos centrales...',
        stepIdentify: 'Identificando temas relacionados...',
        stepFormulate: 'Formulando vectores de búsqueda óptimos...',
        titleIlluminate: 'Iluminando Perspectivas Clave...',
        descriptionIlluminate: 'La IA está sintetizando información de su base de conocimientos para construir una visión general concisa.',
        stepProcess: 'Procesando vectores de búsqueda...',
        stepGather: 'Recopilando información conceptual...',
        stepSynthesize: 'Sintetizando temas clave...',
        stepDraft: 'Redactando resumen inicial...',
        titleCraft: 'Creando Su Informe Completo...',
        descriptionCraft: 'Este es el paso más intensivo. La IA ahora está escribiendo su informe de múltiples secciones.',
        stepStructure: 'Estructurando el esquema del informe...',
        stepWriteIntro: 'Escribiendo introducción y revisión de literatura...',
        stepDevelopThemes: 'Desarrollando temas clave y metodología...',
        stepAnalyzeResults: 'Analizando resultados y sugiriendo gráficos...',
        stepDraftDiscussion: 'Redactando discusión y conclusión...',
        stepAssemble: 'Ensamblando documento final...',
        waitMessage: 'Por favor espere, este proceso puede tardar. No navegue fuera de la página.',
      },
      formulatedQueries: {
        title: 'Guía de Investigación Ampliada',
        description: 'Revise las consultas y sugerencias creadas por la IA. Sintetice para destilar ideas clave.',
        descriptionAuth: 'Inicie sesión para sintetizar ideas.',
        buttonLabel: 'Sintetizar e Iluminar',
        buttonLabelAuth: 'Iniciar Sesión para Sintetizar',
        vectorsTitle: 'Vectores de Búsqueda Forjados por IA',
        phrasingsTitle: 'Fraseos Alternativos',
        conceptsTitle: 'Conceptos Clave',
        subTopicsTitle: 'Subtemas Potenciales',
        noneSuggested: 'No se sugirió ninguno para esta consulta.',
        noVectors: 'No se generaron vectores de búsqueda para la pregunta proporcionada.',
      },
      summaryDisplay: {
        title: 'Resumen de Investigación Iluminado',
        description: 'Perspectivas clave destiladas y sintetizadas por ScholarAI. Puede editar el resumen a continuación.',
        guidingQuestion: 'Su Pregunta Guía',
        insightsTitle: 'Perspectivas Clave Sintetizadas (Editable)',
        insightsPlaceholder: 'El resumen generado por IA aparecerá aquí. Puede editarlo antes de generar el informe completo.',
        insightsHelpText: 'Sus ediciones aquí se usarán para el informe completo.',
        queryDimensionsTitle: 'Dimensiones de Consulta Exploradas',
        queryDimensionsBadge: 'Curado por IA',
        noDimensions: 'No se identificaron áreas de consulta específicas.',
        optionsTitle: 'Opciones de Informe',
        chartsLabel: 'Generar Sugerencias de Gráficos',
        chartsDescription: 'Permitir que la IA sugiera y cree gráficos para visualizar datos en el informe.',
        footerText: 'Este resumen sintetizado proporciona una perspectiva de alto nivel. Para una exploración exhaustiva, proceda a generar el informe de investigación completo.',
      },
      reportDisplay: {
        titleDefault: 'Informe de Investigación Generado',
        originalQuestion: 'Exploración en profundidad para: "{{question}}"',
        expandAll: 'Expandir Todo',
        collapseAll: 'Contraer Todo',
        downloadJson: 'Descargar JSON',
        downloadPdf: 'Descargar PDF',
        generatingPdf: 'Generando...',
        pdfToastTitle: '🚀 Generando Informe PDF...',
        pdfToastDescription: 'Esto puede tardar unos momentos. La calidad del informe es mejor cuando se ve en línea.',
        pdfToastSuccessTitle: '✅ ¡Informe PDF Descargado!',
        pdfToastSuccessDescription: 'Su informe ha sido generado con éxito.',
        originalityTitle: 'Análisis de Originalidad por IA',
        originalityDescription: 'Aprovecha la IA para comparar el informe con una vasta base de conocimientos de fuentes académicas y web para identificar similitudes potenciales y sugerir fuentes probables.',
        runCheck: 'Ejecutar Chequeo',
        checking: 'Analizando informe...',
        checkComplete: 'Chequeo de Originalidad Completo',
        checkFailed: 'Falló el Chequeo de Originalidad',
        overallSimilarity: 'Puntuación de Similitud General',
        matchesFound: 'Coincidencias Potenciales Encontradas:',
        justification: 'Justificación:',
        matchWith: 'coincide con:',
        runToCheck: 'Haga clic en "Ejecutar Chequeo" para iniciar el análisis.',
        pdfTipTitle: 'Consejo para Exportar a PDF',
        pdfTipDescription: 'Para obtener los mejores resultados al descargar un PDF, especialmente para incluir gráficos, expanda todas las secciones del informe que desea capturar antes de hacer clic en el botón de descarga.',
        footerText: 'Este informe completo fue meticulosamente generado por FossAI utilizando modelos avanzados de IA.',
        readAloud: 'Leer en voz alta',
        noContent: 'No se proporcionó contenido para esta sección.',
        ttsFailed: 'Falló la conversión de texto a voz',
        ttsError: 'Ocurrió un error durante la conversión de texto a voz',
        audioPlaybackFailed: 'Falló la reproducción de audio',
      },
      reportSections: {
        executiveSummary: 'Resumen Ejecutivo',
        introduction: 'Introducción y Antecedentes',
        literatureReview: 'Revisión Comprensiva de la Literatura',
        keyThemes: 'Temas Clave y Discusión a Profundidad',
        methodology: 'Metodología de Investigación Detallada',
        results: 'Presentación y Análisis de Resultados',
        discussion: 'Discusión Holística de los Hallazgos',
        conclusion: 'Observaciones Finales e Implicaciones',
        limitations: 'Limitaciones Reconocidas',
        futureWork: 'Futuras Vías de Investigación',
        ethicalConsiderations: 'Consideraciones Éticas e Impacto',
        references: 'Referencias',
        appendices: 'Apéndices Suplementarios',
        glossary: 'Glosario de Términos Clave',
      },
      placeholderChart: {
        defaultTitle: 'Visualización de Datos Ilustrativa',
        defaultDescription: 'Este gráfico visualiza datos de muestra generados por IA relacionados con la sección del informe.',
        noChartTitle: 'No se Sugirió Gráfico Visual',
        noChartDescription: 'El contenido de esta sección es principalmente narrativo o cualitativo, y la IA no propuso una visualización de gráfico específica.',
        errorTitle: 'Error en los Datos del Gráfico',
        seriesError: "La clave seriesDataKeys generada por IA no es una cadena JSON válida de objetos clave/etiqueta.",
        parseError: "Error al analizar la cadena JSON de datos de muestra generada por IA.",
        emptyError: "Los datos de muestra generados por IA faltan o están vacíos después del análisis.",
        keyError: "Falta la configuración de la clave de datos de categoría proporcionada por la IA.",
        scatterError: "Los gráficos de dispersión requieren al menos una clave de serie para los valores del eje Y y una clave de categoría para los valores del eje X de los datos de muestra de la IA.",
        errorDescription: "La IA no proporcionó datos/configuración suficientes o con el formato correcto para esta visualización.",
        unsupportedError: 'Tipo de gráfico no soportado: {{chartType}}',
      },
      actions: {
        goBackEditQuestion: 'Editar Pregunta',
        goBackRefineQueries: 'Refinar Consultas',
        goBackViewSummary: 'Ver Resumen',
        startNew: 'Iniciar Nueva Sesión de Investigación',
        generateReport: 'Generar Informe Completo',
        authRequiredToastTitle: "Se Requiere Autenticación",
        authRequiredToastDescription: "Por favor, inicie sesión o regístrese para generar informes.",
        questionTooShortToastTitle: "No se Puede Generar el Informe",
        questionTooShortToastDescription: "La pregunta de investigación es demasiado corta o falta. Asegúrese de que se utilizó una pregunta de investigación válida (mín. 10 caracteres) para iniciar esta sesión.",
      },
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: process.env.NODE_ENV === 'development',
    interpolation: {
      escapeValue: false, // React already does escaping
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
  });

export default i18n;
